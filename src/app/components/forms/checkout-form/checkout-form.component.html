<form [formGroup]="checkoutForm" (ngSubmit)="onSubmit(checkoutForm.value)">
  <div class="d-flex align-items-center pb-4 mb-5 border-bottom">
    <h4 class="mb-0 fw-bolder">Your Information</h4>
  </div>
  <div class="row g-3 mb-5">
    <div class="col-6">
      <div class="form-input">
        <label class="form-label fw-500" for="firstName"> First Name </label>
        <input
          class="form-control"
          id="firstName"
          type="text"
          formControlName="firstName"
          name="firstName"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
        >
          <small *ngIf="firstName.errors?.['required']"
            >First Name is required</small
          >
          <small *ngIf="firstName.errors?.['minlength']">
            First Name must be at least 3 characters
          </small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="form-input">
        <label class="form-label fw-500" for="lastName"> Last Name </label>
        <input
          class="form-control"
          id="lastName"
          type="text"
          formControlName="lastName"
          name="lastName"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
        >
          <small *ngIf="lastName.errors?.['required']"
            >Last Name is required</small
          >
          <small *ngIf="lastName.errors?.['minlength']">
            Last Name must be at least 3 characters
          </small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="form-input">
        <label class="form-label fw-500" for="email"> Email Address </label>
        <input
          class="form-control"
          id="email"
          type="email"
          formControlName="email"
          name="email"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="email.invalid && (email.dirty || email.touched)"
        >
          <small *ngIf="email.errors?.['required']">Email is required</small>
          <small *ngIf="email.errors?.['email']">Email is invalid</small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="form-input">
        <label class="form-label fw-500" for="phone"> Phone Number </label>
        <input
          class="form-control"
          id="phone"
          type="tel"
          formControlName="phone"
          name="phone"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="phone.invalid && (phone.dirty || phone.touched)"
        >
          <small *ngIf="phone.errors?.['required']">Phone is required</small>
          <small *ngIf="phone.errors?.['minlength']">
            Phone must be at least 10 characters
          </small>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="form-input">
        <label class="form-label fw-500" for="address"> Address </label>
        <input
          class="form-control"
          id="address"
          type="text"
          formControlName="address"
          name="address"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="address.invalid && (address.dirty || address.touched)"
        >
          <small *ngIf="address.errors?.['required']"
            >Address is required</small
          >
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="form-input">
        <label class="form-label fw-500" for="address2">
          Address 2 <span class="text-grey">(Optional)</span></label
        >
        <input
          class="form-control"
          id="address2"
          type="text"
          formControlName="address2"
          name="address2"
        />
      </div>
    </div>
    <div class="col-12">
      <div class="form-input">
        <label class="form-label fw-500" for="city"> Town/City </label>
        <input
          class="form-control"
          id="city"
          type="text"
          formControlName="city"
          name="city"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="city.invalid && (city.dirty || city.touched)"
        >
          <small *ngIf="city.errors?.['required']">City is required</small>
        </div>
      </div>
    </div>
    <div class="col-4">
      <app-input
        label="Country"
        type="select"
        [options]="countries"
        [value]="checkoutForm.value.country"
        (selectedOption)="selectCountry($event)"
      ></app-input>
    </div>
    <div class="col-4">
      <app-input
        label="State"
        type="select"
        [value]="checkoutForm.value.state"
        [options]="states"
        (selectedOption)="selectState($event)"
      ></app-input>
    </div>
    <div class="col-4">
      <div class="form-input">
        <label class="form-label fw-500" for="zip">Zip / Postcode </label>
        <input
          class="form-control"
          id="zip"
          type="text"
          formControlName="zip"
          name="zip"
          required
        />
        <div
          class="text-danger fw-500"
          *ngIf="zip.invalid && (zip.dirty || zip.touched)"
        >
          <small *ngIf="zip.errors?.['required']">Zip is required</small>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-center pb-4 mb-5 border-bottom">
    <h4 class="mb-0 fw-bolder">Schedule Order Pick-up</h4>
  </div>
  <div class="row g-3 mb-5">
    <div class="col-6">
      <custom-calendar
        label="Date"
        buttonLabel="Set Date"
        (emitDate)="setDate($event)"
      ></custom-calendar>
    </div>
    <div class="col-6">
      <app-input
        label="Time"
        type="select"
        [options]="times"
        [value]="checkoutForm.value.time"
      ></app-input>
    </div>
    <div class="col-12">
      <app-input
        label="Additional Notes <span class='text-grey'>(Optional)</span>"
        type="textarea"
        placeholder="Let us know if you have any special instructions to know in relation to your order and pick up."
        (setValue)="setNotes($event)"
      ></app-input>
    </div>
    <div class="w-50 ms-auto">
      <button
        class="orderBtn w-100 mb-4"
        type="submit"
        [disabled]="!checkoutForm.valid"
      >
        Place Order
      </button>
    </div>
  </div>
</form>
